<!DOCTYPE html>
<html lang="en">
<head>
    <title>RHEL6的软件仓库问题解决</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" content="xrfind">
    <meta name="copyright" content="copyright (c) 三月 08, 2011 xrfind">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
 
    <link type="image/x-icon" rel="shortcut icon" href="../cssjs/css/favicon.ico"/>
	<link type="text/css"         href="../cssjs/bootstrap/css/bootstrap.css" rel="stylesheet">
	<link type="text/css"         href="../cssjs/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
	<link type="text/css"         href="../cssjs/css/custom.css" rel="stylesheet">
	<script type="text/javascript" src="../cssjs/js/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="../cssjs/bootstrap/js/bootstrap.js"></script>
	<script type="text/javascript" src="../cssjs/js/custom.js"></script>

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-36694423-1']);
        _gaq.push(['_setDomainName', 'rrrui.com']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script> 

</head>

<body>
	<div class="row-fluid">
		<div id="left-side"  class="span4"> <div class="row-fluid">
			<div class="navbar navbar-fixed-top visible-desktop">
				<div class="navbar-inner">
					<a class="brand" href="#"></a> 
					<ul class="nav">
						<li class="active"><a href="../index.html">home</a></li>
						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown"> index <b class="caret"></b></a>
							<ul class="dropdown-menu">
								<li class="dropdown-submenu"><a href="../">MyExperiences(wishToBeUseful)</a>
									<ul class="dropdown-menu">
									<li><a href="./index.html">RHEL6(6.3)</a>
									<li><a href="#toc_1.1.2">Geant4(4.9.2.p02)</a>
									<li><a href="#toc_1.1.3">Tips</a>
									<li><a href="#toc_1.1.4">Apache(2.2.15)</a>
									<li><a href="#toc_1.1.5">Reprint(good enough)</a>
									</ul></li>
								<li class="dropdown-submenu"><a href="#toc_1.2">Read&amp;Study(justForMyself)</a>
									<ul class="dropdown-menu">
									<li><a href="#toc_1.2.1">Css</a>
									<li><a href="#toc_1.2.2">JQuery</a>
									<li><a href="#toc_1.2.3">Ajax</a>
									<li><a href="#toc_1.2.4">Cookies,Sessions</a>
									<li><a href="#toc_1.2.5">Firebug</a>
									<li><a href="#toc_1.2.6">GNU Make(3.81)</a>
									<li><a href="#toc_1.2.7">Redis(2.6.10)</a>
									<li><a href="#toc_1.2.8">LFS(7.2)</a>
									<li><a href="#toc_1.2.9">APUE(v2)</a>
									<li><a href="#toc_1.2.10">MySQL5(5.5)</a>
									<li><a href="#toc_1.2.11">Drupal7</a>
									</ul></li>
								<li class="dropdown-submenu"><a href="#toc_1.3">LifeRecord(onTheRoad)</a></li>
								<li class="dropdown-submenu"><a href="#toc_1.4">Obsoleted(useless)</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</div><!--navbar --!>

			<div id="myCarousel" class="carousel slide span12 img-polaroid  hidden-phone">
				<ol class="carousel-indicators">
					<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
					<li data-target="#myCarousel" data-slide-to="1"></li>
					<li data-target="#myCarousel" data-slide-to="2"></li>
					<li data-target="#myCarousel" data-slide-to="3"></li>
					<li data-target="#myCarousel" data-slide-to="4"></li>
					<li data-target="#myCarousel" data-slide-to="5"></li>
					<li data-target="#myCarousel" data-slide-to="6"></li>
					<li data-target="#myCarousel" data-slide-to="7"></li>
					<li data-target="#myCarousel" data-slide-to="8"></li>
					<li data-target="#myCarousel" data-slide-to="9"></li>
					<li data-target="#myCarousel" data-slide-to="10"></li>
					<li data-target="#myCarousel" data-slide-to="11"></li>
					<li data-target="#myCarousel" data-slide-to="12"></li>
				</ol>
				<!-- Carousel items -->
				<div class="carousel-inner">
					<div class="item">		 <img src="../file/LRphoto/fribourg001.jpg"></div> 
					<div class="item">       <img src="../file/LRphoto/fribourg002.jpg"></div>
					<div class="item">       <img src="../file/LRphoto/fribourg003.jpg"></div>
					<div class="item">       <img src="../file/LRphoto/fribourg004.jpg"></div>
					<div class="active item"><img src="../file/LRphoto/fribourg005.jpg"></div>
					<div class="item">       <img src="../file/LRphoto/hangzhou001.jpg"></div>
					<div class="item">       <img src="../file/LRphoto/kunming001.jpg"></div>
					<div class="item">       <img src="../file/LRphoto/nanjing001.jpg"></div>
					<div class="item">       <img src="../file/LRphoto/nanjing002.jpg"></div>
					<div class="item">       <img src="../file/LRphoto/shanghai001.jpg"></div>
					<div class="item">       <img src="../file/LRphoto/someplace001.jpg"></div>
					<div class="item">       <img src="../file/LRphoto/zhoushan001.jpg"></div>
					<div class="item">       <img src="../file/LRphoto/zurich001.jpg"></div>
				</div>
				<!-- Carousel nav -->
				<a class="carousel-control left" href="#myCarousel" data-slide="prev">&lsaquo;</a>
				<a class="carousel-control right" href="#myCarousel" data-slide="next">&rsaquo;</a>
			</div>

			<div class="span12" id="profile"><div class="row-fluid">
				<div class="span4 offset1">
					<a href="http://github.com/xrfind"><img src="http://s.gravatar.com/avatar/c273e7c0a671536c4d122bc39d67c3d2?s=512" id="avatar" class="img-polaroid"></a>
				</div>
				<div class="span6 offset1 hidden-phone">
					<strong><i class="icon-user"></i> xrfind</strong><br />
					<span><i class="icon-home"></i><a href="http://wiki.rrrui.com"> wiki.rrrui.com</a></span><br />
					<span><i class="icon-envelope"></i> xrfind@gmail.com</span><br />
					<span><i class="icon-heart"></i><abbr title="c, c++, Linux"> System Engineer</abbr></span><br />
					<span><i class="icon-tasks"></i><abbr title="php, html/css/javascript, LAMP, Redis"> Web Developer</abbr></span><br />
					<span><i class="icon-road"></i> Complex Network</span>
				</div>
			</div></div>

			<div class="span12 hidden-phone" id="disqus">
			<div id="disqus_thread"></div>
			<script type="text/javascript">
				var disqus_title="RHEL6的软件仓库问题解决";
				var disqus_shortname = 'xrfindvimwiki'; // required: replace example with your forum shortname
				var disqus_identifier="RHEL6的软件仓库问题解决";

				(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
				})();
			</script>
			<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
			</div>



		</div></div><!-- left-side --!>

		<div id="right-side" class="span8" >
			<div id="content">
			<h1>RHEL6的软件仓库问题解决</h1>

<p>RHEL自带的软件仓库是要钱的，买的是服务吗。 之前也曾经使用centos6的仓库，但是当<code>yum
update</code>之后，RHEL左上角applications旁边的小红帽不见了，开机画面变成了centos6的，这样实在不伦不类。
现在我是通过建立本地仓库，同时使用第三方仓库的方案来解决软件仓库的问题。</p>

<h2>本地仓库</h2>

<ul>
<li>RHEL的光盘镜像iso文件中存在着仓库，可以将iso的文件拷贝到本地，并建立本地仓库。 </li>
<li>切换到root账户<code>su -</code>，建立<code>/yum/</code>目录，将iso中所有文件都拷贝到该目录下。 </li>
<li>RHEL所有的仓库配置文件都放在<code>/etc/yum.repos.d/</code>目录中，建立一个本地仓库配置文件<code>yumlocal.repo</code>。 </li>
<li><code>su -</code></li>
<li><code>cd /etc/yum.repos.d/</code></li>
<li><p><code>vim yumlocal.repo</code></p>

<pre><code>[local]
name=local
baseurl=file:///yum/Server
enable=1
gpgcheck=0
</code></pre></li>
<li><p><code>yum clean all</code></p></li>
<li><code>yum update</code></li>
<li><code>yum list</code> 可以查看本地仓库中有哪些文件。 </li>
</ul>

<h2>第三方仓库</h2>

<p>第三方仓库我一般使用两个： <strong>EPEL</strong> 和 <strong>rpmfusion</strong> 。 同时，还有一个 <strong>remi</strong>
，这个虽然我有安装，但是保持了它本身的<code>enable=0</code>，只在某些库找不到的时候在这里查看一下。</p>

<ul>
<li>EPEL的安装很简单，去官网：<a href="http://fedoraproject.org/wiki/EPEL">http://fedoraproject.org/wiki/EPEL</a> ，下载对应的rpm，双击安装即可。 </li>
<li>rpmfusion同上，官网: <a href="http://rpmfusion.org/Configuration">http://rpmfusion.org/Configuration</a> 。 </li>
<li>remi同上，官网：<a href="http://rpms.famillecollet.com">http://rpms.famillecollet.com</a> 。 </li>
<li>值得注意的是，EPEL和rpmfusion安装后，默认就是enable的，remi默认是unenabled。 </li>
<li>enable与否的设置在<code>/etc/yum.repos.d/</code>目录中对应的配置文件中。 </li>
<li>当前，我的<code>/etc/yum.repos.d/</code>目录中有的配置文件： 
<ol>
<li>adobe-linux-x86_64.repo </li>
<li>epel.repo </li>
<li>epel-testing.repo </li>
<li>google-chrome.repo </li>
<li>remi.repo </li>
<li>rpmfusion-free-updates.repo </li>
<li>rpmfusion-free-updates-testing.repo </li>
<li>rpmfusion-nonfree-updates.repo </li>
<li>rpmfusion-nonfree-updates-testing.repo </li>
<li>yumlocal.repo </li>
</ol></li>
</ul>

<p>补充：还有一个仓库，rpmforge。可以在<a href="http://pkgs.repoforge.org/rpmforge-release/">http://pkgs.repoforge.org/rpmforge-
release/</a> 这里找到rpmforge-release-0.
5.2-2.el6.rf.x86_64.rpm，安装即可。里面有smplayer。安装smplayer的时候，可能会出现在菜单Applications里的条
目没有图片，这时使用<code>ln -s /usr/share/icons/hicolor/64x64/apps/smplayer.png
/usr/share/icons/smplayer.png</code>。</p>

<h2>删除RHEL收费仓库相关的软体</h2>

<ul>
<li>不删除的话，系统会经常性的提醒你注册，我是无法忍受这种烦恼的。 </li>
<li>和RHEL收费仓库相关的软体主要是两类 
<ul>
<li>rhn（redhat network） </li>
<li>subscription-manager </li>
</ul></li>
<li>使用<code>rpm -qa|grep subscription-manager</code>，检查与<code>subscription-manager</code>相关的软体。 
<ul>
<li>一共有3个。 </li>
<li><code>rpm -e subscription-manager-firstboot subscription-manager-gnome subscription-manager</code></li>
</ul></li>
<li>使用<code>rpm -qa|grep rhn</code>，检查与<code>redhat network</code>相关的软体。 
<ul>
<li>一共有7个。 </li>
<li><code>rpm -e rhn-check rhn-setup rhnlib rhnsd yum-rhn-plugin rhn-setup-gnome rhn-client-tools</code></li>
</ul></li>
</ul>

<h2>other tips</h2>

<h1>OVER</h1>
			</div><!-- content --!>
		</div><!-- right-side span8 --!>
	</div> <!--row-fluid --!>
</body>
</html>
