<!DOCTYPE html>
<html lang="en">
<head>
    <title>Directories in .vim</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" content="xrfind">
    <meta name="copyright" content="copyright (c) 三月 08, 2011 xrfind">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
 
    <link type="image/x-icon" rel="shortcut icon" href="../../style/css/favicon.ico"/>
	<link type="text/css"         href="../../style/css/bootstrap.min.css" rel="stylesheet">
	<link type="text/css"         href="../../style/css/custom.css" rel="stylesheet">
	<script type="text/javascript" src="../../style/js/jquery.min.js"></script>
	<script type="text/javascript" src="../../style/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="../../style/js/custom.js"></script>

    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-36694423-1']);
        _gaq.push(['_setDomainName', 'rrrui.com']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script> 

</head>

<body data-spy="scroll" data-target="#top-nav">
	<nav class="navbar navbar-default navbar-fixed-top" id="top-nav" role="navigation">
		<a class="navbar-brand" href="../../">RRRUI.COM</a>

  <!-- Collect the nav links, forms, and other content for toggling -->
  <div class="collapse navbar-collapse navbar-ex1-collapse">
    <ul class="nav navbar-nav">
      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown" id="current-page" >Current Page<b class="caret"></b></a>
        <ul id="current-page-dd" class="dropdown-menu">
        </ul>
      </li>
    </ul>

    <ul class="nav navbar-nav navbar-right">
      <li><a href="#">About Me</a></li>
    </ul>

  </div><!-- /.navbar-collapse -->
	</nav>
	<div class="container">
		<div id="content" class="col-md-12" >
			
<div class="toc">
<ul>
<li><a href="#toc_1">plugin directory</a>
<li><a href="#toc_2">autoload directory</a>
</ul>
</div>
<p>
if you type <code>:set runtimepath?</code> in vim, you will find <strong>.vim</strong> dirctories in the output.
</p>
<pre>
runtimepath=~/.vim,~/.vim/bundle/php,~/.vim/bundle/vimwiki,/usr/share/vim/vimfiles,/usr/share/vim/vim74,/usr/share/vim/vimfiles/after,~/.vim/after
</pre>

<p>
<strong>runtimepath</strong> is a series of folders, in which vim will search the following directories:
</p>
<ul>
<li>
plugin

<li>
ftplugin

<li>
colors

<li>
autoload

<li>
doc

<li>
syntax

<li>
indent

</ul>

<p>
these folders will be described here.
</p>

<h1 id="toc_1">plugin directory</h1>
<p>
When vim starts, it will load every files with <em>.vim</em> extension in <strong>plugin</strong> directory. (of course, vim can be set to not load these files in <strong>plugin</strong> directory, actually there are a lot of ways which can achieve this target. But basically, I don't think anybody and any Linux distributions will do this.)
</p>

<p>
On my Fedora, the vim gives me the following <strong>.vim</strong> files in <em>/usr/share/vim/vim74/plugin/</em> dir by default.
</p>
<ul>
<li>
getscriptPlugin.vim

<li>
gzip.vim

<li>
matchparen.vim

<li>
netrwPlugin.vim

<li>
rrhelper.vim

<li>
spellfile.vim

<li>
tarPlugin.vim

<li>
tohtml.vim

<li>
vimballPlugin.vim

<li>
zipPlugin.vim

</ul>

<p>
I don't have to figure every script above out. If they are the default options in fedroa, I can expect they are also supplied by many other Linux distributions by default.
<hr />
Most likely, what the <strong>.vim</strong> files in <strong>plugin</strong> dir contains is rules, which means a certain thing will happen if a condition is meet. In other worlds, a rule means a <em>if A do B</em>.
</p>

<p>
These <strong>.vim</strong> files add a lot of rules to help vim more intelligent.
</p>

<p>
Yes, vim's smart is because of the rules, because of <em>if A do B</em>.
</p>

<p>
For example, when we open a <strong>main.c</strong> with vim, a condition is meet. the meet condition is that the file we open is <code>c</code> type file. 
</p>

<p>
Then, Vim do a lot of things for us, e.g. highlight the syntax, very smart autoindent when you type code.
<hr />
All rules in <strong>.vim</strong> files in <strong>plugin</strong> dir are global. In other words, the most common.
</p>

<h1 id="toc_2">autoload directory</h1>
<p>
This dir is a lib. 
</p>

<p>
A rule is a <em>if A do B</em>. <em>B</em> can be a very simple operation or a very complex operation. if latter, the operation can be writed into a function and stored in <strong>autoload</strong> dir. Therefore, a rule will be just one line.
</p>

<p>
And the <strong>autoload</strong> directory supply a great mechanism which make vim starts much faster. Not work faster, just start faster, I think.
</p>

<p>
The mechanism is that vim doesn't need to load everything into memory when it starts.
</p>

<p>
If a condition is meet, vim will search <em>B</em> in <strong>autoload</strong> dir. So maybe the <strong>autoload</strong> dir make vim work slower, but we can not feel that.
</p>

<p>
If without <strong>autoload</strong> and you have a lot of <strong>.vim</strong> files, the feeling of the delay when vim starts will be obvious.
</p>

		</div>

		<div class="col-md-12 hidden-phone" id="disqus">
			<div id="disqus_thread"></div>
			<script type="text/javascript">
				var disqus_title="Directories in .vim";
				var disqus_shortname = 'rrrui'; // required: replace example with your forum shortname
				var disqus_identifier="Directories in .vim";

				(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
				})();
			</script>
			<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
			<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
			</div>
		</div>

	</div>
</body>
</html>
