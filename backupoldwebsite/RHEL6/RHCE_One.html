<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>RHCE_One</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" content="xrfind">
    <meta name="copyright" content="copyright (c) 三月 08, 2011 xrfind">
    <link rel="stylesheet" type="text/css" href="../css/style.css" />
    <link type="image/x-icon" rel="shortcut icon" href="../css/favicon.ico"/>
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../js/moment.min.js"></script>
    <script type="text/javascript" src="../js/custom.js"> </script> 
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-36694423-1']);
        _gaq.push(['_setDomainName', 'rrrui.com']);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script> 
</head>
<body>
    <div id="htop" style="width:128px;height:128px">
    </div>
    <div id="content">
        
<h1 id="toc_1">RHCE Part One</h1>
<p>
Red Hat Certified Engineer.
</p>

<h2 id="toc_1.1">unit 1 Overview</h2>
<ul>
<li>
UNIX商标在AT&amp;T手中，其他人开发的符合UNIX规范的非常类似与UNIX系统的系统不可以使用UNIX的名字，所以只能另取它名，比如Solaris。

<li>
UNIX的特色

<ul>
<li>
everything is a file

<li>
配置文件都存储在文本文件中

<li>
小而专一的程序

<li>
大功能通过小程序组合实现

</ul>
<li>
Free Software Foundation（FSF）

<ul>
<li>
GNU计划的主要赞助单位

</ul>
<li>
GPL，GNU通用公共授权

<ul>
<li>
任何软体挂上了GPL之后，就变成了open source software。

</ul>
<li>
<em>linux其实也可以看作是Solaris同等级的一种吧，暂时放置。</em>

</ul>

<h2 id="toc_1.2">unit 2 Running Commands and Getting Help</h2>
<ul>
<li>
shell命令的语法： <strong>command [options] [arguments]</strong> 。

<ul>
<li>
单词类型的option，则在option之前加上 <strong>--</strong> 。

<li>
字母类型的option，则在option之前加上 <strong>-</strong> 。

<li>
字母类型的可以结合在一起，如<code>-a -b -c</code>可以写为<code>-abc</code>。

</ul>
<li>
<strong>whatis</strong> 用来查看command的简短说明。

<li>
<strong>--help</strong> 用来查看command的摘要，大多数命令都支持这个选项，但也不是所有的。

<li>
<strong>man</strong> 用来查看command的手册，man page就称为linux manual。用法 <strong>man [&lt;chapter&gt;] &lt;command&gt;</strong> 。

<ul>
<li>
chapter有8个。

</ul>
<li>
<strong>info</strong> 类似于man page，但更详细。

<li>
<strong>/usr/share/doc</strong> 中有非常完整的说明文件。

<li>
redhat官方的说明文档有搜索功能，也可以使用。

</ul>

<h2 id="toc_1.3">unit 3 Browsing the Filesystem</h2>
<p>
目录及操作
</p>
<ul>
<li>
linux目录名称都是大小写区分的。

<ul>
<li>
<code>cd -</code>是回到上一个目录。

<li>
<code>cp</code>可以通过选项<code>-p</code>来保持时间戳。

<li>
<code>cat -A</code>会输出换行字元。

<li>
<code>file</code> 可以查看文件类型。

</ul>
</ul>

<h2 id="toc_1.4">unit 4 The bash Shell</h2>
<p>
bash shell相关
</p>
<ul>
<li>
<strong>[^a-z]</strong> 除了a-z之间字母的其他任意一个字母。

</ul>
 
<ul>
<li>
<code>history</code>可以产看历史命令。

<li>
<code>^xxx^yyy</code>可以将上一个命令中的xxx修改为yyy。

<li>
<code>cd ~username</code>可以进入user的主目录。

<li>
<code>touch a{a,b}</code>可以建立aa和ab两个档案。

<li>
<code>touch {a,b}{a,b}</code>可以建立aa，ab，ba，bb四个文件。

<li>
<code>touch {a,b}y{a,b}</code>可以建立aya，ayb，bya，byb四个文件。

<li>
<code>echo</code>后面的单词如果加上倒引号，echo就认为其是变量。

<li>
<code>echo hostname:$(hostname)</code>的结果同上。

<li>
shell中使用双引号，则双引号中的几个字符会经过处理

<ul>
<li>
<code>$</code>

<li>
<code>\</code>

<li>
倒引号

<li>
<code>!</code>

<li>
使用双引号的效果和不使用任何引号的效果是相同的。

</ul>
<li>
shell中使用单引号，则单引号内部的任何字符都不会被处理，都将直接输出。

<li>
在shell中输入Crtl-R，就进入了寻找命令的提示下。

<li>
在shell中输入Alt+<code>.</code>，会将上一个命令的最后一个参数放出来。

</ul>

<h2 id="toc_1.5">unit 5 Standard I/O and Pipes</h2>
<ul>
<li>
<code>ls -l /dev/std*</code>可以看到3个标准输入输出。

<li>
在缺省设置下，标准输出和标准错误都会输出在屏幕上。

<li>
<code>&gt;</code>导出资料，并覆盖。

<li>
<code>&gt;&gt;</code>导出资料，但不覆盖，而是添加。

<li>
<code>&lt;</code>导入。

<li>
<code>1&gt;</code>标准输出导入到文件。

<li>
<code>2&gt;</code>标准错误导入到文件。

<li>
直接使用<code>&gt;</code>的时候，和<code>1&gt;</code>是一样的。

<li>
使用<code>&gt; 2&gt;&amp;1</code>或者<code>1&gt; 2&gt;$1</code>将标准输出和标准错误都输入到文件。

<li>
<code>cut -f4 -d: -c4-8 filename</code>

<li>
<code>sort [options] file</code>

<li>
<code>|</code>可以将某个指令的输出变成另一个指令的输入。

<li>
<code>xargs</code>可以将pipe导入的文本作为后续指令的参数使用。

<li>
<code>cat file.txt|xargs rm -f</code>

<li>
<code>tee</code>可以将标准输出记录，同时标准输出并不受到影响。

</ul>

<h2 id="toc_1.6">unit 6 Users, Groups, and Permissions</h2>
<ul>
<li>
users和groups用于控制linux文件的存取权限。

<li>
每个file都有owner，owner必定是一个user，user必定有一个group。

<li>
每个process也有一个owner，就是是user和group。该process所能存取的resources也有限制。

<li>
user

<ul>
<li>
每一个都有一个唯一的user id。

<li>
记录在 <strong>/etc/passwd</strong> 和 <strong>/etc/shadow</strong> 。

</ul>
<li>
group

<ul>
<li>
每一个都有一个唯一的group id。

<li>
记录在 <strong>/etc/group</strong> 和 <strong>/etc/gshadow</strong> 。

<li>
每个user都会有一个自己唯一的group；也可以有其他的group。

</ul>
<li>
root user

<ul>
<li>
拥有所有的权限。

</ul>
<li>
每个file和directory都有权限设定。

<ul>
<li>
权限permission用于限制三种类型： owner，owener的group的其他user，others

<li>
permission自身分为三种：read，write，execute。

<li>
r：读取档案，和，使用ls列出dir内容的权限。

<li>
w：写档案，和，从一个dir中创建和删除档案的权限。

<li>
x：执行档案，和，使用cd进入dir，并使用ll等权限。

</ul>
<li>
<code>ls -l dir</code>看的是dir内部的内容。

<li>
<code>ls -ld dir</code>看的是dir本身。

</ul>

<h2 id="toc_1.7">Unit 7 vi Editor Basics and Printing</h2>
<ul>
<li>
<code>w</code>到下一个word的第一个字母。

<li>
<code>b</code>到上一个word的第一个字母。

<li>
<code>(</code>到上一个句子。

<li>
<code>)</code>到下一个句子。

<li>
<code>{</code>到上一个段落。

<li>
<code>}</code>到下一个段落。

<li>
<code>dtc</code>就是从光标当前位置删除到字母c。

</ul>

<h2 id="toc_1.8">Unit 8 The Linux Filesystem In-Depth</h2>
<ul>
<li>
硬盘会分成分区，partitions。

<li>
partition需要格式化，从而拥有一个filesystem。格式化就是给予一个partition一个filesysytem的过程。

<li>
只有具有filesystem的partition才能存储文件。

<li>
linux的filesystem有很多种，ext4，ext2等。

<li>
当一个partition被格式化为ext4时，就会在partition上建立一个inode table。

<li>
inode table，既然是table，所以，必然的有条目，每个条目都具有相同的结构，条目的索引就是inode number。条目的其他部分包括一个文件的各种属性。

<ul>
<li>
time stamp：access time，modify time， change time。

<ul>
<li>
access time：最后一次存取这个档案的时间。

<li>
modify time：最后一次编辑这个档案的时间。

<li>
change time：该条目任何一个部分有变化的时间。

</ul>
<li>
pointer指向了实际的文档的存储位置（那几个block）。

<li>
dir和file对于inode table来说是没有区别的。

</ul>
<li>
当<code>cp</code>发生时，会找到一个空的inode number，放入到inode table；建立一个dir entry，得到新的file name，放入到这个inode number的条目中，然后复制。

<li>
一个inode number是否可以使用，是在于这个条目的link count是否为0。

<li>
symbolic（or soft）links

<ul>
<li>
symbolic link的内容就是一个名称，一个filename。

<li>
<code>ln -s filename linkname</code>

</ul>
<li>
hard links

<ul>
<li>
不同的filename对应到同一个inode number。

<li>
<code>ln filename [linkname]</code>

<li>
不可以跨partition。

<li>
这个会改变inode number对应条目的link count。

<li>
没办法建立dir的hard link。

</ul>
<li>
7种档案形态

<ul>
<li>
regular file，directroy，symbolic link，block special file，character special file， named pipe， socket。

</ul>
<li>
df

<ul>
<li>
显示每个partition的使用情况。

<li>
<code>df -h</code>使用比较容易阅读的方式来显示。

<li>
<code>df -h anyonefile</code>

</ul>
<li>
du

<ul>
<li>
显示每一个目录里面使用了多少空间。

<li>
显示目录中子目录使用的多少空间。

<li>
<code>du -s dirname</code>显示指定目录占用的空间。

<li>
<code>du -sh dirname</code>使用比较容易阅读的方式显示目录占用的空间。

</ul>
<li>
removable media，非root用户可能只能mount一些特定的media，通常mountpoint在/media中。

<li>
<code>eject</code>用于unmount。

<li>
<code>tar</code>是打包档案的，不是压缩档案的。

<ul>
<li>
<code>tar cvf archive_name files...</code>

<li>
<code>c</code> create a new archive。

<li>
<code>v</code> 显示打包详细信息。

<li>
<code>f</code> archive_name is name of new file.

<li>
不需要dash。

<li>
<code>tar tf archive_name</code>显示包里有那些内容。

<li>
<code>tar xvf archive_name</code>解包。

</ul>
<li>
压缩档案

<ul>
<li>
gzip，gunzip；<code>gzip -v termcap</code>，<code>gunzip termcap.gz</code>。    

<li>
bzip2，bunzip2

</ul>
<li>
打包档案的时候，一般同时就压缩档案。

<ul>
<li>
tar后面接<code>z</code>，就使用gzip方式压缩档案。

<li>
tar后面接<code>j</code>，就是bzip2方式压缩档案。

</ul>
</ul>

<h2 id="toc_1.9">Unit 9 Configuring the bash Shell</h2>
<ul>
<li>
三种设定bash shell的方式。

<ul>
<li>
local variable

<li>
aliase 和 function

<li>
<code>set</code>命令

</ul>
<li>
variable存储在内存中

<ul>
<li>
local，

<li>
environment，

<li>
两种variable。

</ul>
<li>
<code>set</code>查看所有的variable。

<li>
<code>env</code>只查看系统的environment variable。

<li>
常见的Local variables

<ul>
<li>
HISTFILESIZE 指定history一共记录几条command记录。

<li>
COLUMNS 终端的宽度。

<li>
LINES 终端的高度。

</ul>
<li>
ps1 local variable

<ul>
<li>
提示字元前面的提示。

</ul>
<li>
常见的environment variables

<ul>
<li>
HOME

<li>
LANG

<li>
PWD

</ul>
<li>
<code>which ls</code>

<li>
Shell Startup Scripts

<ul>
<li>
在script里面建立local variable，或者运行set command

<li>
在script里面建立environment variable

<li>
使用aliase

<li>
运行programs

</ul>
<li>
Login Shells

<ul>
<li>
使用登录所启用的shell

<li>
nonlogin shell和login shell执行不同的startup script。

<li>
login shells会先执行 <strong>/etc/profile</strong> ，这个script会执行 <strong>/etc/profile.d/xx.sh</strong> 。

<ul>
<li>
然后执行 <strong>~/.bash_profile</strong> ，这个script会执行 <strong>~/.bashrc</strong> ，这个script会执行 <strong>/ect/bashrc</strong> 。

</ul>
<li>
nonlogin shell会执行 <strong>~/.bashrc</strong> ,<strong>/etc/bashrc</strong> ， <strong>/etc/profile.d</strong> 。

</ul>
<li>
/etc/profile

<ul>
<li>
login shell第一个执行的startup script。

<li>
其中，定义了PATH，USER，LOGNAME，MAIL，HOSTNAME，HISTSIZE，and INPUTRC。

</ul>
<li>
/etc/profile.d

<ul>
<li>
一些应用程序需要的startup scripts。

<li>
这里面的script主要是建立变数，以及一些初始化程序。

</ul>
<li>
~/.bash_profile and ~/.bashrc

<ul>
<li>
user自身的设定。

</ul>
<li>
~/.bash_logout

<ul>
<li>
登出的时候会执行。

<li>
比如，备份，删除临时文件，或显示登出日期时间等。

</ul>
</ul>

<h2 id="toc_1.10">Unit 10 Advanced Topics in Users,Groups and Permissions</h2>
<ul>
<li>
system user and group.

<ul>
<li>
1-499的uid和gid是给系统user和group使用的。

</ul>
<li>
<code>su - username</code>

<ul>
<li>
这里的dash是指：将为user启动一个login shell，也就是上面的login shell启动的过程。

<li>
所以，environment variable，local variable都会更改位user的。

</ul>
<li>
<code>whoami</code>，<code>groups</code>，<code>id</code>。

<li>
<code>users</code>，<code>who</code>，<code>w</code>。

<li>
<code>last</code>

<li>
default Permissions

<ul>
<li>
default permissions for file is 666

<li>
default permissions for dir is 777

<li>
使用umask来遮掉一些权限。

<li>
非root的users，umask是002。

<li>
root，umask是022。

<li>
<code>umask</code>

</ul>
<li>
special permissions

<ul>
<li>
又叫做第四个权限。

<li>
suid，sgid，sticky。

<li>
rwsrwsrwt。rwSrwsrwt。

<li>
小写的s或t，表示本来有x。

<li>
大写的S或T，表示本来没有x。

<li>
<code>chmod u+s filename</code>

<li>
<code>chmod g+s filename</code>

<li>
<code>chmod o+t filename</code>

<li>
<code>chmod 2755 filename</code> rwxr-sr-x

<li>
<code>chmod 7755 filename</code> rwsr-sr-t

<li>
执行档案可以带有suid和sgid。

<ul>
<li>
带有suid的命令，当执行时，是按照命令所有者来执行，而不是当前命令执行者的user。也就是说任意人都可以执行suid的命令。

<li>
带有sgid，是按照owner所在组的身份来执行。

</ul>
<li>
目录可以带有stick和sgid。

<ul>
<li>
如果一个dir带有stick，那么这个dir里面的档案只有档案的owner和root可以删除。

<li>
如果一个dir带有sgid，只有dir的group里的user才能在dir里建立档案。

</ul>
</ul>
</ul>

<h2 id="toc_1.11">Unit 11 Advanced Uses of the vi Editors</h2>
<ul>
<li>
银幕上的位置：<code>H</code>，<code>M</code>，<code>L</code>； <code>z+enter</code>将当前行设置为屏幕第一行。<code>z+-</code>将当前行设置为屏幕最后一行。

<li>
<code>!!ls -l</code>

<li>
<code>:%s/this/that/g</code>

<li>
<code>:r file1</code>将file1放入当前位置

<li>
<code>:1,20w file2</code>将当前文档的1到20行写入file2

<li>
<code>:1,$w file3</code>将当前文档的所有内容写入file3

<li>
<code>:1,20w &gt;&gt; file4</code>

<li>
<code>:set</code>

<li>
<code>:set all</code>

</ul>

<h2 id="toc_1.12">Unit 12 Introduction to String Processing</h2>
<ul>
<li>
<code>head -n 15 file1</code>

<li>
<code>head -12 file1</code>

<li>
<code>tail -5 file1</code>

<li>
<code>tail -f file1</code>

<li>
<code>wc -l file1</code>line计数

<li>
<code>wc -w file1</code>word计数

<li>
<code>wc -c file1</code>character计数

<li>
<code>sort file2 | uniq</code>将file2排序，然后相邻的相同的行就只剩一行。

<li>
<code>uniq -c file2</code>计算重复行。

<li>
<code>paste file1 file2 file3&gt;file123</code>这是列和合并。

<li>
<code>cat file1 file2 file3&gt;file123</code>这是行合并。

<li>
<code>tar 'A-Z' 'a-z'&lt;.bash_profile</code>大写字母变成小写字母。

<li>
<code>cat -A file4|tr '$' '\r'&gt;file4.txt</code> unix转变为dos格式。

<li>
<code>diff ABC abc</code>

<li>
<code>sdiff ABC abc</code>

<li>
<code>aspell check file2</code>检测档案字拼写。

<li>
<code>expand file1</code>将file1中的tab变为空格。

<li>
<code>fmt -u -w50 file1</code>规范文档。

<li>
<code>pr -5 /usr/share/dict/words | more</code>

</ul>

    </div>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_title="RHCE_One";
        var disqus_shortname = 'xrfindvimwiki'; // required: replace example with your forum shortname
        var disqus_identifier="RHCE_One";

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    <div id="hbottom">
        <strong id="Times">Time is getting Fewer and Fewer.</strong>
        <a href="../index.html">HomePage</a>
        <a id="Contents" href="#">Contents</a>
    </div>
</body>
</html>
